{% comment %}
  MOBY Contact Section
  - Contact form with email field
  - Contact information
  - Clean, minimal design matching brand
{% endcomment %}

<section class="moby-section moby-contact">
  <div class="moby-container">
    <div class="moby-contact__layout">
      <!-- Contact Info -->
      <div class="moby-contact__info">
        <span class="moby-contact__eyebrow">{{ section.settings.eyebrow | default: "Get in Touch" }}</span>
        <h1 class="moby-contact__title">{{ section.settings.title | default: "We'd Love to Hear From You" }}</h1>
        <p class="moby-contact__description">
          {{ section.settings.description | default: "Have questions about our products, orders, or partnerships? We're here to help." }}
        </p>

        <div class="moby-contact__details">
          {%- if section.settings.email != blank -%}
          <a href="mailto:{{ section.settings.email }}" class="moby-contact__detail">
            <div class="moby-contact__detail-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="2" y="4" width="20" height="16" rx="2"/>
                <path d="M22 6L12 13L2 6"/>
              </svg>
            </div>
            <div class="moby-contact__detail-content">
              <span class="moby-contact__detail-label">Email</span>
              <span class="moby-contact__detail-value">{{ section.settings.email }}</span>
            </div>
          </a>
          {%- endif -%}

          {%- if section.settings.response_time != blank -%}
          <div class="moby-contact__detail">
            <div class="moby-contact__detail-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 6v6l4 2"/>
              </svg>
            </div>
            <div class="moby-contact__detail-content">
              <span class="moby-contact__detail-label">Response Time</span>
              <span class="moby-contact__detail-value">{{ section.settings.response_time }}</span>
            </div>
          </div>
          {%- endif -%}

          {%- if section.settings.location != blank -%}
          <div class="moby-contact__detail">
            <div class="moby-contact__detail-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 1118 0z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
            </div>
            <div class="moby-contact__detail-content">
              <span class="moby-contact__detail-label">Location</span>
              <span class="moby-contact__detail-value">{{ section.settings.location }}</span>
            </div>
          </div>
          {%- endif -%}
        </div>

        <!-- Social Links -->
        {%- if section.settings.show_social -%}
        <div class="moby-contact__social">
          <span class="moby-contact__social-label">Follow Us</span>
          <div class="moby-contact__social-links">
            {%- if section.settings.instagram_url != blank -%}
            <a href="{{ section.settings.instagram_url }}" target="_blank" rel="noopener" class="moby-contact__social-link" aria-label="Instagram">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="2" y="2" width="20" height="20" rx="5"/>
                <circle cx="12" cy="12" r="4"/>
                <circle cx="18" cy="6" r="1" fill="currentColor"/>
              </svg>
            </a>
            {%- endif -%}
            {%- if section.settings.tiktok_url != blank -%}
            <a href="{{ section.settings.tiktok_url }}" target="_blank" rel="noopener" class="moby-contact__social-link" aria-label="TikTok">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/>
              </svg>
            </a>
            {%- endif -%}
            {%- if section.settings.linkedin_url != blank -%}
            <a href="{{ section.settings.linkedin_url }}" target="_blank" rel="noopener" class="moby-contact__social-link" aria-label="LinkedIn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="2" y="2" width="20" height="20" rx="2"/>
                <path d="M8 11v5M8 8v.01M12 16v-5c0-1 1-2 2-2s2 1 2 2v5"/>
              </svg>
            </a>
            {%- endif -%}
          </div>
        </div>
        {%- endif -%}
      </div>

      <!-- Contact Form -->
      <div class="moby-contact__form-wrapper">
        <div class="moby-contact__form-card">
          <h2 class="moby-contact__form-title">{{ section.settings.form_title | default: "Send us a Message" }}</h2>

          {%- form 'contact', class: 'moby-contact__form' -%}
            {%- if form.posted_successfully? -%}
              <div class="moby-contact__success">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"/>
                  <path d="M8 12l2 3 6-6"/>
                </svg>
                <p>{{ section.settings.success_message | default: "Thanks for reaching out! We'll get back to you within 24 hours." }}</p>
              </div>
            {%- else -%}
              {%- if form.errors -%}
                <div class="moby-contact__error">
                  {{ form.errors | default_errors }}
                </div>
              {%- endif -%}

              <div class="moby-contact__field">
                <label for="contact-name" class="moby-contact__label">Name</label>
                <input
                  type="text"
                  id="contact-name"
                  name="contact[name]"
                  class="moby-contact__input"
                  placeholder="Your name"
                  required
                >
              </div>

              <div class="moby-contact__field">
                <label for="contact-email" class="moby-contact__label">Email</label>
                <input
                  type="email"
                  id="contact-email"
                  name="contact[email]"
                  class="moby-contact__input"
                  placeholder="your@email.com"
                  required
                >
              </div>

              <div class="moby-contact__field">
                <label for="contact-subject" class="moby-contact__label">Subject</label>
                <select id="contact-subject" name="contact[subject]" class="moby-contact__select">
                  <option value="General Inquiry">General Inquiry</option>
                  <option value="Order Support">Order Support</option>
                  <option value="Product Question">Product Question</option>
                  <option value="Partnership">Partnership</option>
                  <option value="Press">Press</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <div class="moby-contact__field">
                <label for="contact-message" class="moby-contact__label">Message</label>
                <textarea
                  id="contact-message"
                  name="contact[body]"
                  class="moby-contact__textarea"
                  placeholder="How can we help you?"
                  rows="5"
                  required
                ></textarea>
              </div>

              <button type="submit" class="moby-contact__submit">
                Send Message
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                </svg>
              </button>
            {%- endif -%}
          {%- endform -%}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .moby-contact {
    padding: 80px 0 100px;
    background: var(--color-background, #ffffff);
  }

  .moby-contact__layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 48px;
  }

  @media (min-width: 1024px) {
    .moby-contact__layout {
      grid-template-columns: 1fr 1.2fr;
      gap: 80px;
      align-items: start;
    }
  }

  /* Contact Info */
  .moby-contact__info {
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .moby-contact__eyebrow {
    font-family: 'N27', sans-serif;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--moby-olive, #4F4A32);
  }

  .moby-contact__title {
    font-family: 'Memoir', serif;
    font-size: 32px;
    font-weight: 400;
    line-height: 1.2;
    color: var(--moby-dark, #1C1A10);
    margin: 0;
  }

  @media (min-width: 768px) {
    .moby-contact__title {
      font-size: 42px;
    }
  }

  .moby-contact__description {
    font-family: 'N27', sans-serif;
    font-size: 16px;
    font-weight: 300;
    line-height: 1.7;
    color: rgba(28, 26, 16, 0.7);
    margin: 0;
    max-width: 400px;
  }

  /* Contact Details */
  .moby-contact__details {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 16px;
  }

  .moby-contact__detail {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    text-decoration: none;
    color: inherit;
    transition: opacity 0.2s ease;
  }

  a.moby-contact__detail:hover {
    opacity: 0.7;
  }

  .moby-contact__detail-icon {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(79, 74, 50, 0.08);
    border-radius: 6px;
    flex-shrink: 0;
  }

  .moby-contact__detail-icon svg {
    color: var(--moby-olive, #4F4A32);
  }

  .moby-contact__detail-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .moby-contact__detail-label {
    font-family: 'N27', sans-serif;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: rgba(28, 26, 16, 0.5);
  }

  .moby-contact__detail-value {
    font-family: 'N27', sans-serif;
    font-size: 15px;
    font-weight: 400;
    color: var(--moby-dark, #1C1A10);
  }

  /* Social Links */
  .moby-contact__social {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid rgba(28, 26, 16, 0.1);
  }

  .moby-contact__social-label {
    font-family: 'N27', sans-serif;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: rgba(28, 26, 16, 0.5);
  }

  .moby-contact__social-links {
    display: flex;
    gap: 12px;
  }

  .moby-contact__social-link {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(79, 74, 50, 0.08);
    border-radius: 6px;
    color: var(--moby-olive, #4F4A32);
    transition: all 0.2s ease;
  }

  .moby-contact__social-link:hover {
    background: var(--moby-olive, #4F4A32);
    color: #ffffff;
  }

  /* Form */
  .moby-contact__form-wrapper {
    width: 100%;
  }

  .moby-contact__form-card {
    background: rgba(245, 245, 240, 0.5);
    border-radius: 6px;
    padding: 32px;
  }

  @media (min-width: 768px) {
    .moby-contact__form-card {
      padding: 48px;
    }
  }

  .moby-contact__form-title {
    font-family: 'Memoir', serif;
    font-size: 24px;
    font-weight: 400;
    color: var(--moby-dark, #1C1A10);
    margin: 0 0 32px 0;
  }

  .moby-contact__form {
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .moby-contact__field {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .moby-contact__label {
    font-family: 'N27', sans-serif;
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--moby-dark, #1C1A10);
  }

  .moby-contact__input,
  .moby-contact__select,
  .moby-contact__textarea {
    width: 100%;
    padding: 14px 18px;
    font-family: 'N27', sans-serif;
    font-size: 15px;
    font-weight: 400;
    color: var(--moby-dark, #1C1A10);
    background: #ffffff;
    border: 1px solid rgba(28, 26, 16, 0.15);
    border-radius: 6px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .moby-contact__input::placeholder,
  .moby-contact__textarea::placeholder {
    color: rgba(28, 26, 16, 0.4);
  }

  .moby-contact__input:focus,
  .moby-contact__select:focus,
  .moby-contact__textarea:focus {
    outline: none;
    border-color: var(--moby-olive, #4F4A32);
    box-shadow: 0 0 0 3px rgba(79, 74, 50, 0.1);
  }

  .moby-contact__select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%231C1A10' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    padding-right: 44px;
    cursor: pointer;
  }

  .moby-contact__textarea {
    resize: vertical;
    min-height: 120px;
  }

  .moby-contact__submit {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 16px 32px;
    font-family: 'N27', sans-serif;
    font-size: 13px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: #ffffff;
    background: var(--moby-olive, #4F4A32);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s ease;
    margin-top: 8px;
  }

  .moby-contact__submit:hover {
    background: var(--moby-dark, #1C1A10);
  }

  .moby-contact__submit svg {
    transition: transform 0.2s ease;
  }

  .moby-contact__submit:hover svg {
    transform: translate(2px, -2px);
  }

  /* Success Message */
  .moby-contact__success {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 16px;
    padding: 32px;
  }

  .moby-contact__success svg {
    color: var(--moby-olive, #4F4A32);
  }

  .moby-contact__success p {
    font-family: 'N27', sans-serif;
    font-size: 16px;
    font-weight: 400;
    line-height: 1.6;
    color: var(--moby-dark, #1C1A10);
    margin: 0;
  }

  /* Error Message */
  .moby-contact__error {
    padding: 16px;
    background: rgba(184, 92, 0, 0.1);
    border-radius: 6px;
    font-family: 'N27', sans-serif;
    font-size: 14px;
    color: #B85C00;
  }
</style>

{% schema %}
{
  "name": "MOBY Contact",
  "tag": "section",
  "class": "moby-contact-wrapper",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow text",
      "default": "Get in Touch"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "We'd Love to Hear From You"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Have questions about our products, orders, or partnerships? We're here to help."
    },
    {
      "type": "header",
      "content": "Contact Information"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email address",
      "default": "hello@drinkmoby.com"
    },
    {
      "type": "text",
      "id": "response_time",
      "label": "Response time",
      "default": "Within 24 hours"
    },
    {
      "type": "text",
      "id": "location",
      "label": "Location",
      "default": "Stockholm, Sweden"
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show social links",
      "default": true
    },
    {
      "type": "url",
      "id": "instagram_url",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "tiktok_url",
      "label": "TikTok URL"
    },
    {
      "type": "url",
      "id": "linkedin_url",
      "label": "LinkedIn URL"
    },
    {
      "type": "header",
      "content": "Form"
    },
    {
      "type": "text",
      "id": "form_title",
      "label": "Form title",
      "default": "Send us a Message"
    },
    {
      "type": "textarea",
      "id": "success_message",
      "label": "Success message",
      "default": "Thanks for reaching out! We'll get back to you within 24 hours."
    }
  ],
  "presets": [
    {
      "name": "MOBY Contact"
    }
  ]
}
{% endschema %}
